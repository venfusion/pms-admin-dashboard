import{i as D,j as a,r as t,B as P}from"./index-WpKDKnZn.js";import{T as L}from"./table-BEMvDJzT.js";import{E as R}from"./Edit-BeKe_Rkw.js";import{D as B}from"./Delete-D2vLJdIV.js";import{B as k}from"./Box-CPnVvGfO.js";import"./TextField-BHoC3Tst.js";import"./useFormControl-BkSDm-Th.js";import"./isMuiElement--TACvAWK.js";import"./formControlState-Dq1zat_P.js";import"./Popover-BOeaFkxD.js";import"./Modal-DkHYYBqk.js";import"./useControlled-Mml4Cg5A.js";import"./Divider-2UP5HNz6.js";import"./Toolbar-CeFBDsl2.js";import"./Typography-C1RMW0gR.js";import"./Chip-BRF0TKRj.js";import"./SwitchBase-Da_gOi6u.js";import"./TableCell-CW6jAg4-.js";import"./FormControlLabel-DpsdCTDZ.js";const T=D(a.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),V=Array.from({length:100},(f,n)=>({id:`uuid${n}`,name:`Company ${n}`,marketingName:`Marketing company ${n}`,logo:"https://picsum.photos/300/300",description:`Description for company ${n}`}));function re(){const[f,n]=t.useState([]),[j,h]=t.useState(0),[l,C]=t.useState({items:[]}),[i,x]=t.useState([]),[c,m]=t.useState({page:0,pageSize:5}),E=t.useMemo(()=>[{label:"Edit",icon:a.jsx(R,{}),handler:e=>console.log("Editing:",e),color:"primary"},{label:"Delete",icon:a.jsx(B,{}),handler:e=>console.log("Deleting:",e),color:"error"}],[]),w=t.useMemo(()=>[{field:"name",headerName:"Name",flex:1,filterable:!0},{field:"marketingName",headerName:"Marketing Name",flex:1},{field:"logo",headerName:"Logo",flex:.5,renderCell:e=>a.jsx("img",{src:e.value,alt:"logo",width:50,height:50})},{field:"description",headerName:"Description",flex:2}],[]),F=t.useCallback(e=>{C(e),m(o=>({...o,page:0}))},[]),N=t.useCallback(e=>{x(e)},[]),v=t.useCallback(e=>{m(e)},[]),M=t.useCallback((e,o)=>o.length?e.filter(r=>o.every(s=>{const g=r[s.field],p=String(s.value||"").toLowerCase();return p?String(g).toLowerCase().includes(p):!0})):e,[]),S=t.useCallback((e,o)=>{if(!o.length)return e;const{field:r,sort:s}=o[0];return[...e].sort((g,p)=>{const d=g[r],u=p[r];return typeof d=="string"&&typeof u=="string"?s==="asc"?d.localeCompare(u):u.localeCompare(d):0})},[]),b=t.useCallback((e,o,r)=>{const s=o*r;return e.slice(s,s+r)},[]),A=t.useCallback(()=>{C({items:[]}),x([]),m({page:0,pageSize:5})},[]),y=t.useCallback(()=>{try{const e=M(V,l.items),o=S(e,i),r=b(o,c.page,c.pageSize);h(e.length),n(r)}catch(e){console.error("Error fetching companys:",e),n([]),h(0)}},[l.items,i,c,M,S,b]);return t.useEffect(()=>{y()},[y]),a.jsxs(k,{children:[a.jsx(k,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:a.jsx(P,{variant:"outlined",startIcon:a.jsx(T,{}),onClick:A,disabled:l.items.length===0&&i.length===0,children:"Reset Filters"})}),a.jsx(L,{columns:w,rows:f,rowActions:E,getRowId:e=>e.id,rowCount:j,filterModel:l,onFilterModelChange:F,sortModel:i,onSortModelChange:N,paginationModel:c,onPaginationModelChange:v,pageSizeOptions:[5,10,25,50,100]})]})}export{re as CompaniesListPage};
